<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Grace Architects PLLC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <a href="/index.html">
      <img src="images/grace_study3-2.png" alt="Grace Architects PLLC" class="logo">
    </a>

    <nav>
      <a href="/index.html">About</a>
      <a href="/resume.html">Resume</a>
      <a href="mailto:rwallen@gracearchitectspllc.com">Contact</a>
    </nav>
  </header>

  <main>
    <div class="content">
      <!-- Carousel -->
      <section class="carousel" aria-label="Project images">
        <button class="carousel-btn prev" type="button" aria-label="Previous image">‹</button>

        <div class="carousel-viewport">
          <div class="carousel-track">
            <!-- Replace these with your real images (add/remove slides freely) -->
            <div class="carousel-slide"><img src="images/orange-inset-detail.jpg" alt="Project image 1"></div>
            <div class="carousel-slide"><img src="images/story-1.png" alt="Project image 2"></div>
            <div class="carousel-slide"><img src="images/story-2.png" alt="Project image 3"></div>
            <div class="carousel-slide"><img src="images/story-3.png" alt="Project image 4"></div>
          </div>
        </div>

        <button class="carousel-btn next" type="button" aria-label="Next image">›</button>
      </section>

      <h1>We practice Architecture—</h1>

      <p>
        with a clear understanding of the built environment, a deep well of practical project experience and a strong commitment to the success of your vision.
      </p>
    </div>
  </main>

  <footer>
    © 2026 Grace Architects PLLC
  </footer>

  <script>
    (function () {
      const carousel = document.querySelector(".carousel");
      const track = carousel.querySelector(".carousel-track");
      const slides = Array.from(carousel.querySelectorAll(".carousel-slide"));
      const prevBtn = carousel.querySelector(".carousel-btn.prev");
      const nextBtn = carousel.querySelector(".carousel-btn.next");

      let index = 0;

      function clamp(i) {
        const n = slides.length;
        return (i % n + n) % n;
      }

      function update() {
        const n = slides.length;
        if (!n) return;

        index = clamp(index);

        // center slide is "index". Adjacent slides fade to 40%.
        slides.forEach((s, i) => {
          s.classList.remove("is-center", "is-adjacent");
          if (i === index) s.classList.add("is-center");
          if (i === clamp(index - 1) || i === clamp(index + 1)) s.classList.add("is-adjacent");
        });

        // Translate so the active slide is centered
        const slideW = slides[0].getBoundingClientRect().width;
        const gap = parseFloat(getComputedStyle(track).columnGap || getComputedStyle(track).gap || "0") || 0;
        const offset = (slideW + gap) * index;

        // Centering formula: move track left by offset, then add half viewport minus half slide
        const viewport = carousel.querySelector(".carousel-viewport");
        const viewportW = viewport.getBoundingClientRect().width;
        const centerAdjust = (viewportW / 2) - (slideW / 2);

        track.style.transform = `translateX(${centerAdjust - offset}px)`;
      }

      prevBtn.addEventListener("click", () => { index -= 1; update(); });
      nextBtn.addEventListener("click", () => { index += 1; update(); });

      // Keyboard support
      carousel.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") { index -= 1; update(); }
        if (e.key === "ArrowRight") { index += 1; update(); }
      });

      // Make carousel focusable for keyboard arrows
      carousel.tabIndex = 0;

      window.addEventListener("resize", update);
      update();
    })();
  </script>
</body>
</html>
